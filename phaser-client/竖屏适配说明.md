# 竖屏模式适配说明

## 概述

已将游戏从横屏模式（1280x720）改为竖屏模式（720x1280），适配手机竖屏操作习惯。

## 修改的文件

### 1. 游戏配置

**文件**: `src/config/constants.ts`

```typescript
// 修改前（横屏）
export const GAME_WIDTH = 1280;
export const GAME_HEIGHT = 720;

// 修改后（竖屏 9:16）
export const GAME_WIDTH = 720;
export const GAME_HEIGHT = 1280;
```

### 2. 主场景布局

**文件**: `src/scenes/MainScene.ts`

#### 顶部状态栏（createTopStatusBar）

**布局调整**:
- 角色名称和等级：居中显示
- 灵石：右上角
- HP/MP/灵气条：全宽显示，堆叠排列
- 进度条宽度：`width - 40`（留边距）

**位置**:
- 起始Y: 20px
- 角色名: 居中，Y=20
- 等级: 居中，Y=50
- HP条: Y=85
- MP条: Y=115
- 灵气条: Y=145

#### 快捷按钮栏（createLeftButtons）

**布局调整**:
- 从左侧竖向改为顶部横向排列
- 按钮尺寸: 55x55
- 按钮间距: 65px
- 位置: Y=185（状态栏下方）

**按钮顺序**（从左到右）:
1. 🎒 背包
2. ⚔️ 装备
3. 👤 角色
4. ⚙️ 设置
5. 🔧 管理员（仅管理员可见）

#### 中央角色展示（createCenterCharacter）

**布局调整**:
- 位置：在快捷按钮和日志之间的中央
- 圆形尺寸：半径120px（从100px增大）
- emoji尺寸：100px（从80px增大）
- Y坐标：`250 + (height - 250 - 250) / 2`

#### 事件日志（createRightEventLog）

**布局调整**:
- 从右侧改为底部显示
- 位置：`height - 250`
- 宽度：`width - 40`
- 高度：140px
- 显示条数：从10条减少到4条
- 字体大小：从14px减少到12px

**位置**:
- 背景起始位置: X=20, Y=height-250
- 标题字体: 14px
- 日志字体: 12px
- 行高: 22px

#### 底部操作按钮（createBottomButtons）

**布局调整**:
- 保持居中横向排列
- 位置: Y = height - 80
- 按钮尺寸: 110x50
- 按钮间距: 125px

**按钮**（从左到右）:
1. 疗伤（绿色）
2. 突破（橙色）
3. 历练（蓝色）

## 竖屏布局示意图

```
┌─────────────────────────┐
│  角色名称     Lv.XX  💎│ ← 顶部状态栏
│  ──────────────────────│
│  HP: ████████░░░░░░    │
│  MP: ██████████░░░░    │
│  灵气: ████░░░░░░░░░░░│
├─────────────────────────┤
│  🎒 ⚔️ 👤 ⚙️         │ ← 快捷按钮
├─────────────────────────┤
│                         │
│          🧘            │ ← 角色展示区
│        (动画)          │
│                         │
│                         │
├─────────────────────────┤
│  修仙日志               │ ← 事件日志
│  - 日志1               │
│  - 日志2               │
│  - 日志3               │
│  - 日志4               │
├─────────────────────────┤
│  [疗伤] [突破] [历练]  │ ← 操作按钮
└─────────────────────────┘
```

## 其他场景

- **LoginScene**: 使用居中布局，自适应竖屏
- **CharacterCreateScene**: 使用居中布局，自适应竖屏
- **BattleScene**: 待实现（将设计为横屏最佳，但也支持竖屏）

## 测试建议

1. 在浏览器开发者工具中切换到移动设备视图
2. 推荐测试设备尺寸:
   - iPhone 12 Pro (390 x 844)
   - iPhone SE (375 x 667)
   - Pixel 5 (393 x 851)
3. 测试所有UI元素的可点击性和可读性
4. 确认进度条和文本不会溢出

## 已知限制

1. 面板（背包、装备、角色）仍使用固定尺寸，可能需要进一步优化
2. 事件日志只显示4条，可能需要添加滚动或查看更多功能
3. 状态栏信息较多，在小屏设备上可能需要进一步压缩

## 后续优化建议

1. 添加横竖屏切换支持
2. 根据屏幕高度动态调整UI元素间距
3. 优化触摸点击区域（最小44x44px）
4. 添加手势操作支持（滑动切换面板等）
